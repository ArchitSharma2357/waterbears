<h1>Login / Sign Up</h1>

<!-- Sign Up Form -->
<form id="signup-form">
  <h2>Sign Up</h2>
  <input type="email" id="signup-email" placeholder="Email" required />
  <input type="password" id="signup-password" placeholder="Password" required />
  <button type="submit">Create Account</button>
</form>

<!-- Sign In Form -->
<form id="signin-form">
  <h2>Sign In</h2>
  <input type="email" id="signin-email" placeholder="Email" required />
  <input type="password" id="signin-password" placeholder="Password" required />
  <button type="submit">Log In</button>
</form>

<!-- Log Out Button -->
<button id="signout-button">Log Out</button>
<p id="auth-status">ðŸ‘¤ Checking login status...</p>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
  const supabase = window.supabase.createClient(
    'https://cmbmfdtmofhidxjugtcd.supabase.co',
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNtYm1mZHRtb2ZoaWR4anVndGNkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDUyNzEwMTAsImV4cCI6MjA2MDg0NzAxMH0.y1XJNaw380hgC7Mkkl79ugvXZUfjRqMyMsnEfUXmQ8Q'
  );

  const status = document.getElementById('auth-status');

  // Sign Up Form Handler
  document.getElementById('signup-form').addEventListener('submit', async (e) => {
    e.preventDefault();
    const email = document.getElementById('signup-email').value;
    const password = document.getElementById('signup-password').value;
    const { error } = await supabase.auth.signUp({ email, password });
    status.textContent = error ? `âŒ Signup error: ${error.message}` : 'âœ… Signup successful! Check your email.';
  });

  // Sign In Form Handler
  document.getElementById('signin-form').addEventListener('submit', async (e) => {
    e.preventDefault();
    const email = document.getElementById('signin-email').value;
    const password = document.getElementById('signin-password').value;
    const { error } = await supabase.auth.signInWithPassword({ email, password });
    status.textContent = error ? `âŒ Login error: ${error.message}` : `âœ… Logged in as ${email}`;
  });

  // Sign Out Button Handler
  document.getElementById('signout-button').addEventListener('click', async () => {
    await supabase.auth.signOut();
    status.textContent = 'ðŸ‘‹ Signed out.';
  });

  // Check Login Status
  supabase.auth.getUser().then(({ data: { user } }) => {
    status.textContent = user ? `ðŸ”’ Logged in as ${user.email}` : 'ðŸ‘¤ Not logged in.';
  });
</script>